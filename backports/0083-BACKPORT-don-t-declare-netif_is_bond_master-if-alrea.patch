From: Moni Shoua <monis@mellanox.co.il>
Subject: [PATCH] BACKPORT: don't declare netif_is_bond_master if already defined

Change-Id: Ic5aa2251501c5a7fb28e4c5fe627f11063cb619e
Signed-off-by: Moni Shoua <monis@mellanox.co.il>
---
 drivers/infiniband/hw/mlx4/main.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/drivers/infiniband/hw/mlx4/main.c b/drivers/infiniband/hw/mlx4/main.c
index xxxxxxx..xxxxxxx xxxxxx
--- a/drivers/infiniband/hw/mlx4/main.c
+++ b/drivers/infiniband/hw/mlx4/main.c
@@ -1779,10 +1779,12 @@ static int reset_gid_table(struct mlx4_ib_dev *dev)
 	return 0;
 }
 
+#ifndef CONFIG_COMPAT_NETIF_IS_BOND_MASTER
 static inline int netif_is_bond_master(struct net_device *dev)
 {
 	return (dev->flags & IFF_MASTER) && (dev->priv_flags & IFF_BONDING);
 }
+#endif
 
 static void mlx4_make_default_gid(struct  net_device *dev, union ib_gid *gid)
 {
